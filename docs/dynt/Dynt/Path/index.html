<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Path (dynt.Dynt.Path)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">dynt</a> &#x00BB; <a href="../index.html">Dynt</a> &#x00BB; Path</nav><h1>Module <code>Dynt.Path</code></h1><p>Access deeply nested types and values.</p><p>This module introduces paths within types and values.</p><p>Paths are constructed using the syntax extension <code>[%path? P]</code>. The payload <code>P</code> is a list of steps, each following this syntax:</p><ul><li><code> ([],_,_) </code> to access the first element of a triple.</li><li><code> fld </code> to access the record field <code>fld</code>.</li><li><code> Cst (_,[]) </code> to access the second argument to constructor <code>Cst</code>.</li><li><code> Cst fld </code> to access inline record field <code>fld</code> of constructor <code>Cst</code>.</li><li><code> [7] </code> to access the seventh element of a list.</li><li><code> [|5|] </code> to access the fifth element of an array.</li></ul><p>The empty path can be written <code>[%path? []]</code> or <code>Path.[]</code>.</p><p>Examples:</p><ul><li><code>[%path? [fld; ([],_)]]</code> corresponds to <code>fun x -&gt; fst x.fld</code></li><li><code>[%path? [Cst fld; [|1|]]]</code> corresponds to <code>fun (Cst x) -&gt; Array.get x.fld 1</code></li></ul></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>(_, _) t</code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-t.(::)" class="anchored"><td class="def constructor"><a href="#type-t.(::)" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">(::)</span><span class="keyword"> : </span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-step">step</a><span class="keyword"> * </span>(<span class="type-var">'b</span>, <span class="type-var">'c</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'c</span>) <a href="index.html#type-t">t</a></code></td></tr><tr id="type-t.([])" class="anchored"><td class="def constructor"><a href="#type-t.([])" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">([])</span> <span class="keyword">:</span> (<span class="type-var">'a</span>, <span class="type-var">'a</span>) <a href="index.html#type-t">t</a></code></td></tr></table></dt><dt class="spec type" id="type-step"><a href="#type-step" class="anchor"></a><code><span class="keyword">type </span>('a, 'b) step</code><code><span class="keyword"> = </span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-lens">lens</a><span class="keyword"> * </span><a href="index.html#type-meta">meta</a></code></dt><dt class="spec type" id="type-lens"><a href="#type-lens" class="anchor"></a><code><span class="keyword">type </span>('a, 'b) lens</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-lens.get" class="anchored"><td class="def field"><a href="#type-lens.get" class="anchor"></a><code>get : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> option;</code></td></tr><tr id="type-lens.set" class="anchored"><td class="def field"><a href="#type-lens.set" class="anchor"></a><code>set : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> option;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-meta"><a href="#type-meta" class="anchor"></a><code><span class="keyword">type </span>meta</code><code><span class="keyword"> = </span><span class="keyword">private </span></code><table class="variant"><tr id="type-meta.Field" class="anchored"><td class="def constructor"><a href="#type-meta.Field" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Field</span><span class="keyword"> of </span></code><code>{</code><table class="record"><tr id="type-meta.field_name" class="anchored"><td class="def field"><a href="#type-meta.field_name" class="anchor"></a><code>field_name : string;</code></td></tr></table><code>}</code><code></code></td></tr><tr id="type-meta.Constructor" class="anchored"><td class="def constructor"><a href="#type-meta.Constructor" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Constructor</span><span class="keyword"> of </span></code><code>{</code><table class="record"><tr id="type-meta.name" class="anchored"><td class="def field"><a href="#type-meta.name" class="anchor"></a><code>name : string;</code></td></tr><tr id="type-meta.arg" class="anchored"><td class="def field"><a href="#type-meta.arg" class="anchor"></a><code>arg : <a href="index.html#type-argument">argument</a>;</code></td></tr></table><code>}</code><code></code></td></tr><tr id="type-meta.Tuple" class="anchored"><td class="def constructor"><a href="#type-meta.Tuple" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Tuple</span><span class="keyword"> of </span></code><code>{</code><table class="record"><tr id="type-meta.nth" class="anchored"><td class="def field"><a href="#type-meta.nth" class="anchor"></a><code>nth : int;</code></td></tr><tr id="type-meta.arity" class="anchored"><td class="def field"><a href="#type-meta.arity" class="anchor"></a><code>arity : int;</code></td></tr></table><code>}</code><code></code></td></tr><tr id="type-meta.List" class="anchored"><td class="def constructor"><a href="#type-meta.List" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">List</span><span class="keyword"> of </span></code><code>{</code><table class="record"><tr id="type-meta.nth" class="anchored"><td class="def field"><a href="#type-meta.nth" class="anchor"></a><code>nth : int;</code></td></tr></table><code>}</code><code></code></td></tr><tr id="type-meta.Array" class="anchored"><td class="def constructor"><a href="#type-meta.Array" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Array</span><span class="keyword"> of </span></code><code>{</code><table class="record"><tr id="type-meta.nth" class="anchored"><td class="def field"><a href="#type-meta.nth" class="anchor"></a><code>nth : int;</code></td></tr></table><code>}</code><code></code></td></tr></table></dt><dt class="spec type" id="type-argument"><a href="#type-argument" class="anchor"></a><code><span class="keyword">type </span>argument</code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-argument.Regular" class="anchored"><td class="def constructor"><a href="#type-argument.Regular" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Regular</span><span class="keyword"> of </span></code><code>{</code><table class="record"><tr id="type-argument.nth" class="anchored"><td class="def field"><a href="#type-argument.nth" class="anchor"></a><code>nth : int;</code></td></tr><tr id="type-argument.arity" class="anchored"><td class="def field"><a href="#type-argument.arity" class="anchor"></a><code>arity : int;</code></td></tr></table><code>}</code><code></code></td></tr><tr id="type-argument.Inline" class="anchored"><td class="def constructor"><a href="#type-argument.Inline" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Inline</span><span class="keyword"> of </span></code><code>{</code><table class="record"><tr id="type-argument.field_name" class="anchored"><td class="def field"><a href="#type-argument.field_name" class="anchor"></a><code>field_name : string;</code></td></tr></table><code>}</code><code></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-(@)"><a href="#val-(@)" class="anchor"></a><code><span class="keyword">val </span>(@) : (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'c</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'c</span>) <a href="index.html#type-t">t</a></code></dt><dd><p><code>a @ b</code> composes the paths <code>a</code> and <code>b</code>.</p></dd></dl><dl><dt class="spec value" id="val-lens"><a href="#val-lens" class="anchor"></a><code><span class="keyword">val </span>lens : (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-lens">lens</a></code></dt><dd><p>Condense a path to a single lens.</p></dd></dl><dl><dt class="spec value" id="val-meta"><a href="#val-meta" class="anchor"></a><code><span class="keyword">val </span>meta : (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-meta">meta</a> list</code></dt><dd><p>Reads the unsafe representation of steps from a path.</p></dd></dl><dl><dt class="spec value" id="val-print"><a href="#val-print" class="anchor"></a><code><span class="keyword">val </span>print : Stdlib.Format.formatter <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Print a path in the syntax expected by the syntax extension.</p></dd></dl><dl><dt class="spec module" id="module-Unsafe"><a href="#module-Unsafe" class="anchor"></a><code><span class="keyword">module </span><a href="Unsafe/index.html">Unsafe</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Operations based on the untyped meta information.</p></dd></dl></div></body></html>